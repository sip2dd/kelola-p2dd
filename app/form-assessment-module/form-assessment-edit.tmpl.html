<md-content class="padded-content-page">
    <h2 translate>FORMASSESSMENT.ADD</h2>
    <form name="mainForm" novalidate>
        <div layout="row" layout-align="end center">
            <md-button class="md-primary md-raised" ng-disabled="mainForm.$invalid" ng-click="vm.createAction()">Buat</md-button>
            <md-button class="md-raised" ng-click="vm.cancelAction()">Batal</md-button>
        </div>
        <div layout="row" flex=100 >
            <tri-widget content-padding md-theme="cyan" flex>
                <md-input-container md-no-float class="md-block">
                    <label>Keterangan</label>
                    <input type="text" name="Keterangan" placeholder="Keterangan" ng-model="vm.formAssessment.description" ng-required="true">
                </md-input-container>
                <div layout="row">
                    <div flex></div>
                    <md-button class="md-raised" ng-click="vm.addQuestion()">Tambah Pertanyaan</md-button>
                </div>
            </tri-widget>
        </div>
        <tri-widget flex="100" flex-xs="100" content-layout="column" palette-background="triCyan:200">
            <md-list>
                <md-list-item class="md-2-line" md-progress="vm.deferred" ng-repeat="item in vm.formAssessment.form_assessment_question | filter : { del: 0}| orderBy:'sequence'">
                    <div flex class="md-list-item-text">
                        <div class="widget-content layout-column layout-align-start-stretch flex-order-2" layout="column" layout-align="" ng-class="{'layout-padding': vm.contentPadding}" flex-order="2">
                            <div class="font-weight-200 md-title font-style-italic line-height-big padding-normal ng-scope" layout="row" flex="100">
                                <md-input-container md-no-float class="md-block" flex="10">
                                    <input type="text" name="No" placeholder="No" ng-model="item.sequence" ng-required="true">
                                </md-input-container>
                                <md-input-container md-no-float class="md-block" flex="90">
                                    <input type="text" name="Pertanyaan" placeholder="Pertanyaan" ng-model="item.question_text" ng-required="true">
                                </md-input-container>
                            </div>
                        </div>
                        <md-radio-group class="md-primary" ng-model="item.answer" style="margin-left:10px;" layout="column">
                            <md-radio-button ng-repeat="option in item.answer_options | filter: {del:0}" value="{{option.value}}">
                                {{option.label}}
                            </md-radio-button>
                        </md-radio-group>
                    </div>
                    <span class="md-caption" layout="column">
                        <span style="color: black;">
                            <md-input-container md-no-float class="md-block">
                                <label>Tipe Jawaban</label>
                                <md-select name="status" ng-model="item.answer_type">
                                    <md-option value="options" selected>Options</md-option>
                                    <md-option value="text">Text</md-option>
                                </md-select>
                            </md-input-container>
                        </span>
                        <span layout="row">
                            <button class="md-icon-button md-button md-cyan-theme md-ink-ripple" type="button" ng-click="vm.openOptionDialog(item)" aria-label="Tambah Jawaban" ng-if="item.answer_type==='options'">
                                <md-icon md-font-icon="zmdi zmdi-dot-circle-alt" class="ng-scope md-cyan-theme md-font material-icons zmdi zmdi-dot-circle-alt" aria-hidden="true"></md-icon>
                                <md-tooltip>Tambah Jawaban</md-tooltip>
                            </button>
                            <button class="md-icon-button md-button md-cyan-theme md-ink-ripple" type="button" ng-click="vm.dellOption(item)" aria-label="Tambah Jawaban" ng-if="item.answer_type==='options'">
                                <md-icon md-font-icon="zmdi zmdi-close-circle-o" class="ng-scope md-cyan-theme md-font material-icons zmdi-close-circle-o" aria-hidden="true"></md-icon>
                                <md-tooltip>Hapus Jawaban</md-tooltip>
                            </button>
                        </span>
                        <button class="md-icon-button md-button md-cyan-theme md-ink-ripple" type="button" ng-click="vm.deleteQuestion(item)" aria-label="view">
                            <md-icon md-font-icon="zmdi zmdi-delete" class="ng-scope md-cyan-theme md-font material-icons zmdi zmdi-delete" aria-hidden="true"></md-icon>
                            <md-tooltip>Hapus Pertanyaan</md-tooltip>
                        </button>
                    </span>
                    <md-divider></md-divider>
                </md-list-item>
            </md-list>
        </tri-widget>
        <div layout="row" layout-align="end center">
            <md-button class="md-primary md-raised" ng-disabled="mainForm.$invalid" ng-click="vm.createAction()">Buat</md-button>
            <md-button class="md-raised" ng-click="vm.cancelAction()">Batal</md-button>
        </div>
    </form>
</md-content>
